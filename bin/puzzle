#!/bin/bash

term_size="$(stty size)"          # gives rows<sp>cols
export COLUMNS="${term_size#* }"  # extract second number

project_dir="$(dirname "$0")/.."

# Note the space before $* below.
#
# Gradle blows up if --args receives an empty string as its argument.
# However, it trims space from the end of the --args argument, and
# a single space thus shows up as an empty args array by the time
# it makes it to our main method.

puzzle_command="$0" exec "$project_dir/gradlew" \
    run-cli \
    --project-dir "$project_dir" \
    --args=" $*" \
    --console=plain \
    --warn
